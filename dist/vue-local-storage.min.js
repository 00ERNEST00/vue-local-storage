!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.VueLocalStorage=r()}(this,function(){"use strict";var e=window.localStorage,r=function(){this._properties={}};r.prototype.get=function(r,t){var o=this;if(void 0===t&&(t=null),e[r]){var n=String;for(var s in o._properties)if(s===r){n=o._properties[s].type;break}return this._process(n,e[r])}return null!==t?t:null},r.prototype.set=function(r,t){var o=this;for(var n in o._properties){var s=o._properties[n].type;if(n===r&&[Array,Object].includes(s))return e.setItem(r,JSON.stringify(t)),t}return e.setItem(r,t),t},r.prototype.remove=function(r){return e.removeItem(r)},r.prototype.addProperty=function(r,t,o){t=t||String,this._properties[r]={type:t},e[r]||null===o||e.setItem(r,[Array,Object].includes(t)?JSON.stringify(o):o)},r.prototype._process=function(e,r){switch(e){case Boolean:return"true"===r;case Number:return parseInt(r,10);case Array:try{var t=JSON.parse(r);return Array.isArray(t)?t:[]}catch(e){return[]}case Object:try{return JSON.parse(r)}catch(e){return{}}default:return r}};var t=new r;return{install:function(e,r){if(void 0===r&&(r={}),!process||!(process.server||process.SERVER_BUILD||process.env&&"server"===process.env.VUE_ENV)){try{var o="__vue-localstorage-test__";window.localStorage.setItem(o,o),window.localStorage.removeItem(o)}catch(e){console.error("Local storage is not supported")}var n=r.name||"localStorage";e.mixin({created:function(){var e=this;this.$options[n]&&Object.keys(this.$options[n]).forEach(function(r){var o=[e.$options[n][r].type,e.$options[n][r].default],s=o[0],i=o[1];t.addProperty(r,s,i)})}}),e[n]=t,e.prototype["$"+n]=t}}}});
